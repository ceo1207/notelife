# 游戏开发基础
## 线性代数
**向量**

向量的强大之处在于他的运算。  
叉积的结果是向量，得到垂直于两个向量的向量。左手坐标系使用左手定则，右手坐标系使用右手定则。

向量的实用性：
点在矩形内。点在平面上。平面的法向量。
游戏编程开发中常用。

向量组的秩。N个线性无关的N维向量构成的向量组，可以作为n维坐标系的基底。

**矩阵**

矩阵运算。数乘、乘法、逆矩阵、矩阵转置。

A，B互为逆矩阵。$AB=BA=I$

矩阵转置的运算律。$(A*B)^T = B^T*A^T$

**齐次坐标**

要点：利用矩阵运算，做坐标系转换。太实用了，在游戏编程开发中。变换针对的是在同一个坐标系中点和向量的几何变换，而不是坐标系转换。

注意：使用齐次坐标做点和向量的几何变换时，点使用(x,y,z,1),向量使用(x,y,z,0),使得向量不会被平移。

转换矩阵都是右乘矩阵。平移矩阵、缩放矩阵和旋转矩阵，均不满足交换律。

**ASK**
1. 旋转矩阵之间是否可交换？

不可以交换。计算验证下：

```
import numpy as np
x_angle = 10
x_mat = np.mat([[1, 0, 0, 0], [0, cos(x_angle), sin(x_angle), 0], [0, -sin(x_angle), cos(x_angle), 0], [0, 0, 0, 1]])
x_angle = -10
x_mat_reverse = np.mat([[1, 0, 0, 0], [0, cos(-x_angle), sin(x_angle), 0], [0, -sin(x_angle), cos(x_angle), 0], [0, 0, 0, 1]])
z_mat = np.mat([[cos(2), sin(2), 0, 0], [-sin(2), cos(2), 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]])
# x_mat * z_mat != z_mat * x_mat
# x_mat * x_mat_reverse = I 以x轴顺时针旋转10，逆时针旋转10，得到的是一个单位矩阵
```

2. 欧拉角的旋转顺序是否可以改变？
也同样不能改变！
对于x,y,z三个轴的不同旋转顺序一共有(x-y-z, y-z-x, z-x-y, x-z-y, z-y-x, y-x-z)六种组合.我们需要明确旋转顺序,才能确定欧拉角所指的姿态.

3. 什么是欧拉角的万向锁？
动态欧拉角才会发生万向锁（即绕物体坐标系的三个轴旋转，在世界坐标系下，旋转轴是跟着物体的旋转而动态变化的）。动态的坐标系和静态的坐标系，原来两种变换都可以有，[动态和静态的结果是正好相反的](
https://www.zhihu.com/question/280577092/answer/1196959452)。
在模拟物体旋转时，就是以物体坐标系做动态欧拉角时，旋转插值会出现抖动的现象，就是由万向锁引起的。

4. 坐标系变换，如何利用基底得到坐标系转换的右乘矩阵？基底变换推导

原理：$[X_1, Y_1, Z_1]*[x_1, y_1, z_1]^T = [X_2, Y_2, Z_2]*[x_2, y_2, z_2]^T$

note: 坐标的本质是基底的系数，要做坐标的转换，求下上述公式就行。做矩阵的逆。列出数学符号公式，活用已有运算律，好用。

**几何图元**

几何图元的坐标表示及其交互运算。直线、射线、线段、球、平面。

平面的几何定义：$A * (P_0 - P) = 0$，平面的法线垂直于平面上的任意向量。p是平面上的点。由点定义线和面。

三角形的面积计算公式、周长计算公式。

## python
机器学习和人工智能，也会经常用到。py-torch/keras

翻阅 《python 学习手册》、github上一些python的整理内容。

**python解读**

读、写逻辑是不同的。在类继承等结构中尤其注意。

import的逻辑

**特别的语法**

循环的else

列表生成式

生成器、迭代
yield

**函数式编程**

可接收其他函数作为参数的函数称为高阶函数。
```
map/reduce/filter
map(int, ['1', '2',])

```

**匿名函数的语法**
匿名函数不管多复杂，只能写一行，且执行完结果就是返回值。

```
匿名函数的调用
(lambda x: 2 * x)(8)
```


**闭包 closure**
一个函数返回了一个内部函数，该内部函数引用了外部函数的相关参数和变量，我们把该返回的内部函数称为闭包（Closure）。

函数中定义函数，变量的作用域问题。函数可以访问函数外部的变量。
```
def make_pow(n):
    def inter_func(x):
        return pow(x, n)
    return inter_func
```

使用场景：
1. 需要对一个函数做加工额外的处理。
2. 函数本身需要存储一些参数。相当于类的实例成员函数。

！！使用误区：
a = int(i1) 
```
def count():
    funcs = []
    for i in [1, 2, 3]:
        def f():
            return i
        funcs.append(f)
    return funcs

>>> f1, f2, f3 = count()
>>> f1()
3
>>> f2()
3
>>> f3()
3
```

**装饰器**
用的不多，用的时候经常略有模糊的概念。

**面向对象**


## 渲染流水线


## unity
### shader的使用
### 动画 IK




## 编程能力
如何单元测试
python unittest
代码整洁之道
游戏编程模式
开发：人月神话

碰撞检测。AABB 轴对齐的矩形边界框。

